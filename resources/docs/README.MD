<div align="center">

# ğŸš¨ Software Integral de DetecciÃ³n de Violencia Escolar
## Powered by Artificial Intelligence

![Estado del Proyecto](https://img.shields.io/badge/Estado-Activo-brightgreen?style=for-the-badge)
![VersiÃ³n](https://img.shields.io/badge/VersiÃ³n-1.0.0-blue?style=for-the-badge)
![Python](https://img.shields.io/badge/Python-3.11+-3776ab?style=for-the-badge&logo=python&logoColor=white)
![React](https://img.shields.io/badge/React-18.2+-61dafb?style=for-the-badge&logo=react&logoColor=black)
![FastAPI](https://img.shields.io/badge/FastAPI-0.115.12-009688?style=for-the-badge&logo=fastapi&logoColor=white)
![AI](https://img.shields.io/badge/AI-Computer_Vision-ff6b35?style=for-the-badge&logo=tensorflow&logoColor=white)

*SoluciÃ³n innovadora basada en Inteligencia Artificial para la prevenciÃ³n y detecciÃ³n temprana de violencia en instituciones educativas*

---

</div>

## ğŸ“‹ InformaciÃ³n del Proyecto

<table>
<tr>
<td><strong>ğŸ“ Universidad</strong></td>
<td>San Francisco Xavier de Chuquisaca</td>
</tr>
<tr>
<td><strong>ğŸ“š Carrera</strong></td>
<td>IngenierÃ­a en Ciencias de la ComputaciÃ³n</td>
</tr>
<tr>
<td><strong>ğŸ“– Curso</strong></td>
<td>Inteligencia Artificial - IA3</td>
</tr>
<tr>
<td><strong>ğŸ‘¨â€ğŸ’» Desarrollador</strong></td>
<td><strong>Gonzales Suyo Franz Reinaldo</strong></td>
</tr>
<tr>
<td><strong>ğŸ‘¨â€ğŸ« Docente</strong></td>
<td>Carlos Walter Pacheco Lora</td>
</tr>
<tr>
<td><strong>ğŸ“… Periodo AcadÃ©mico</strong></td>
<td>2025 - 7mo Semestre</td>
</tr>
</table>

---

## ğŸ“œ Declaratoria de AutorÃ­a

> **IMPORTANTE**: Este proyecto es de autorÃ­a exclusiva del desarrollador mencionado anteriormente, creado como trabajo acadÃ©mico para el curso de Inteligencia Artificial. Todo el cÃ³digo fuente, modelos de IA, documentaciÃ³n y recursos han sido desarrollados por el autor, con excepciÃ³n de las librerÃ­as y frameworks de terceros debidamente citados y licenciados.

---

## ğŸ¯ DescripciÃ³n General

<div align="center">

### *"Transformando la seguridad escolar con el poder de la Inteligencia Artificial"*

</div>

El **Software Integral de DetecciÃ³n de Violencia Escolar** es una soluciÃ³n completa y avanzada que utiliza tÃ©cnicas de **Computer Vision** y **Deep Learning** para detectar automÃ¡ticamente situaciones de violencia en entornos educativos. 

ğŸ”¹ **Procesamiento en tiempo real** de video desde cÃ¡maras de seguridad  
ğŸ”¹ **IdentificaciÃ³n inteligente** de comportamientos violentos  
ğŸ”¹ **GeneraciÃ³n automÃ¡tica** de alertas inmediatas  
ğŸ”¹ **IntervenciÃ³n rÃ¡pida** para garantizar la seguridad estudiantil  

---

## ğŸŒŸ CaracterÃ­sticas Principales

<div align="center">

| CaracterÃ­stica | DescripciÃ³n | Estado |
|:-------------:|:------------|:------:|
| ğŸ¤– **DetecciÃ³n IA** | AnÃ¡lisis en tiempo real mediante modelos neurales | âœ… |
| ğŸš¨ **Alertas AutomÃ¡ticas** | Notificaciones visuales, sonoras y de voz | âœ… |
| ğŸ“¹ **GrabaciÃ³n Inteligente** | Captura automÃ¡tica de evidencia | âœ… |
| ğŸ“Š **Dashboard Web** | Interfaz moderna para monitoreo | âœ… |
| ğŸ”„ **Multi-CÃ¡mara** | Arquitectura escalable | âœ… |
| ğŸ“ˆ **Reportes Avanzados** | EstadÃ­sticas y anÃ¡lisis detallados | âœ… |
| ğŸ’¾ **Base de Datos** | Almacenamiento seguro de incidentes | âœ… |

</div>

---

## ğŸ—ï¸ Arquitectura del Software

<div align="center">

```mermaid
graph TB
    subgraph "ğŸ–¥ï¸ Frontend Layer"
        A[ğŸ›ï¸ Dashboard Web] --> B[ğŸ“º Monitoreo Tiempo Real]
        A --> C[ğŸ“‹ GestiÃ³n de Incidentes]
        A --> D[ğŸ“Š Reportes y Analytics]
    end
    
    subgraph "ğŸš€ Backend Layer"
        E[ğŸŒ API REST] --> F[ğŸ”Œ WebSocket Server]
        E --> G[ğŸ” Sistema AutenticaciÃ³n]
        E --> H[ğŸ’¾ GestiÃ³n Base Datos]
    end
    
    subgraph "ğŸ§  AI Engine"
        I[ğŸ¯ YOLOv11 Detector] --> K[âš¡ TimesFormer Analyzer]
        J[ğŸ‘¥ DeepSort Tracker] --> K
        K --> L[ğŸ”„ AI Pipeline]
    end
    
    subgraph "ğŸ”§ Services Layer"
        M[ğŸ“¢ Alarma Tuya WiFi] --> N[ğŸ—£ï¸ Alertas de Voz]
        O[ğŸ¬ GrabaciÃ³n Evidencia] --> P[ğŸ’¿ Storage Base64]
    end
    
    subgraph "ğŸ—„ï¸ Database Layer"
        Q[(ğŸ˜ PostgreSQL)]
        R[ğŸ“ Incidentes]
        S[ğŸ‘¤ Usuarios]
        T[ğŸ“· CÃ¡maras]
        U[ğŸï¸ Evidencias]
    end
    
    A --> E
    E --> I
    L --> M
    L --> O
    H --> Q
    Q --> R
    Q --> S
    Q --> T
    Q --> U
```

</div>

---

## ğŸ¤– Modelos de Inteligencia Artificial

<div align="center">

### ğŸ§¬ *Powered by State-of-the-Art Deep Learning*

</div>

<details>
<summary><h3>ğŸ¯ 1. YOLOv11 - Detector de Personas</h3></summary>

**ğŸ“Š Especificaciones TÃ©cnicas:**
- ğŸ—ï¸ **Arquitectura**: Convolutional Neural Network optimizada
- ğŸ¯ **PropÃ³sito**: DetecciÃ³n y localizaciÃ³n de personas en tiempo real  
- ğŸ–ï¸ **PrecisiÃ³n**: > 95% en detecciÃ³n de personas
- âš¡ **Velocidad**: ~30 FPS (GPU) / ~15 FPS (CPU)
- ğŸ–¼ï¸ **ResoluciÃ³n**: 416x416 pÃ­xeles optimizada
- âš™ï¸ **Umbral**: 0.58 de confianza mÃ­nima

</details>

<details>
<summary><h3>ğŸ§  2. TimesFormer - AnÃ¡lisis de Violencia</h3></summary>

**ğŸ“Š Especificaciones TÃ©cnicas:**
- ğŸ—ï¸ **Arquitectura**: Vision Transformer para anÃ¡lisis espacio-temporal
- ğŸ¯ **PropÃ³sito**: ClasificaciÃ³n de secuencias de video para detectar violencia
- ğŸ“ **Entrenamiento**: Transfer Learning + Fine-Tuning especializado
- ğŸ“Š **MÃ©tricas**: F1-Score: 0.96, Accuracy: 0.93
- ğŸ–¼ï¸ **Entrada**: Secuencias de 8 frames de 224x224 pÃ­xeles
- âš™ï¸ **Umbral**: 70% de probabilidad para activar alertas

</details>

<details>
<summary><h3>ğŸ‘¥ 3. DeepSort - Sistema de Seguimiento</h3></summary>

**ğŸ“Š Especificaciones TÃ©cnicas:**
- ğŸ¯ **PropÃ³sito**: Seguimiento continuo de personas
- âš™ï¸ **Funcionalidad**: Identificadores Ãºnicos por persona
- ğŸ”„ **IntegraciÃ³n**: Combinado con YOLO para tracking temporal
- ğŸ“ˆ **Capacidad**: Hasta 20 personas simultÃ¡neas

</details>

---

## ğŸ’» Stack TecnolÃ³gico

<div align="center">

### ğŸ› ï¸ *TecnologÃ­as de Vanguardia*

</div>

<table>
<tr>
<td width="50%">

#### ğŸ **Backend Stack**
```python
FastAPI 0.115.12          # ğŸš€ Framework web asÃ­ncrono
PostgreSQL 15+            # ğŸ˜ Base de datos robusta
SQLAlchemy 2.0.41         # ğŸ”— ORM avanzado
PyTorch 2.7.0             # ğŸ§  Deep Learning framework
OpenCV 4.11.0             # ğŸ‘ï¸ Computer Vision
ONNX Runtime 1.22.0       # âš¡ OptimizaciÃ³n de modelos
Transformers 4.52.3       # ğŸ¤— Hugging Face models
Ultralytics 8.3.144       # ğŸ¯ YOLOv11 oficial
```

</td>
<td width="50%">

#### âš›ï¸ **Frontend Stack**
```javascript
React 18.2.0              // âš›ï¸ UI Framework moderno
Vite 5.0.0                // âš¡ Build tool ultrarrÃ¡pido
Tailwind CSS 3.4.17       // ğŸ¨ Utility-first CSS
Axios 1.4.0               // ğŸŒ HTTP client
React Router DOM 6.14.2   // ğŸ›£ï¸ Enrutamiento SPA
WebRTC API                // ğŸ“º Streaming tiempo real
Heroicons 2.2.0           // ğŸ¨ Iconos elegantes
```

</td>
</tr>
</table>

<div align="center">

#### ğŸ§  **Artificial Intelligence Stack**
```python
TimesFormer      # ğŸ¬ Video analysis transformer
YOLOv11         # ğŸ¯ Real-time object detection  
ONNX 1.22.0     # ğŸ“¦ Optimized model format
NumPy 2.2.6     # ğŸ”¢ Numerical computing
OpenCV          # ğŸ‘ï¸ Computer vision library
```

</div>

---

## ğŸ“‚ Estructura del Proyecto

<div align="center">

### ğŸ—‚ï¸ *OrganizaciÃ³n Modular y Escalable*

</div>

```
ğŸ“¦ school-violence-prevention/
â”œâ”€â”€ ğŸš€ violence-detection-backend/           # Backend FastAPI
â”‚   â”œâ”€â”€ ğŸ“ app/
â”‚   â”‚   â”œâ”€â”€ ğŸ§  ai/                           # MÃ³dulos de IA
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ¯ yolo_detector.py          # Detector YOLOv11
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ§¬ violence_detector.py      # Detector TimesFormer
â”‚   â”‚   â”‚   â”œâ”€â”€ âš¡ timesformer_processor.py   # Procesador de frames
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ”„ pipeline.py               # Pipeline principal
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“¦ model_loader.py           # Cargador de modelos
â”‚   â”‚   â”œâ”€â”€ ğŸŒ api/                          # Endpoints API
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‹ v1/                       # API versiÃ³n 1
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ” auth.py               # AutenticaciÃ³n JWT
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“· cameras.py            # GestiÃ³n de cÃ¡maras
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ incidents.py          # GestiÃ³n de incidentes
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ—£ï¸ voice_alerts.py       # Alertas inteligentes
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ”Œ websocket/                # WebSocket y WebRTC
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“º stream_handler.py     # Manejo de streams
â”‚   â”‚   â”‚       â””â”€â”€ ğŸ“¡ rtc_signaling.py      # SeÃ±alizaciÃ³n WebRTC
â”‚   â”‚   â”œâ”€â”€ âš™ï¸ core/                         # ConfiguraciÃ³n central
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ”§ config.py                 # Configuraciones
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ—„ï¸ database.py              # ConexiÃ³n BD
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ”’ security.py               # Seguridad JWT
â”‚   â”‚   â”œâ”€â”€ ğŸ“Š models/                       # Modelos de datos
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ incident.py               # Modelo de incidentes
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“· camera.py                 # Modelo de cÃ¡maras
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ‘¤ user.py                   # Modelo de usuarios
â”‚   â”‚   â”œâ”€â”€ ğŸ› ï¸ services/                     # Servicios de negocio
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ§  ai_service.py             # Servicio principal IA
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ incident_service.py       # LÃ³gica de incidentes
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“· camera_service.py         # GestiÃ³n de cÃ¡maras
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸš¨ alarm_service.py          # Control alarmas IoT
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ—£ï¸ voice_alert_service.py    # Alertas con IA
â”‚   â”‚   â”œâ”€â”€ ğŸ”§ utils/                        # Utilidades
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‹ logger.py                 # Sistema de logs
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ¬ video_base64_utils.py     # ConversiÃ³n video
â”‚   â”‚   â””â”€â”€ ğŸš€ main.py                       # AplicaciÃ³n principal
â”‚   â”œâ”€â”€ ğŸ§  models_weights/                   # Pesos modelos IA
â”‚   â”‚   â”œâ”€â”€ ğŸ¯ yolo/                         # Modelos YOLO
â”‚   â”‚   â””â”€â”€ ğŸ§¬ timesformer/                  # Modelos TimesFormer
â”‚   â”œâ”€â”€ ğŸ““ notebooks/                        # Jupyter Notebooks
â”‚   â”œâ”€â”€ ğŸ”§ scripts/                          # Scripts utilidad
â”‚   â”œâ”€â”€ ğŸ“„ requirements.txt                  # Dependencias Python
â”‚   â””â”€â”€ âš™ï¸ .env                             # Variables entorno
â””â”€â”€ âš›ï¸ app-violence-prevention/              # Frontend React
    â”œâ”€â”€ ğŸ“ src/
    â”‚   â”œâ”€â”€ ğŸ§© components/                   # Componentes React
    â”‚   â”‚   â”œâ”€â”€ ğŸ¨ Layout.jsx                # Layout principal
    â”‚   â”‚   â”œâ”€â”€ ğŸ” Auth.jsx                  # AutenticaciÃ³n
    â”‚   â”‚   â”œâ”€â”€ ğŸ›¡ï¸ ProtectedRoute.jsx        # Rutas protegidas
    â”‚   â”‚   â””â”€â”€ ğŸ”” NotificationSystem.jsx    # Sistema notificaciones
    â”‚   â”œâ”€â”€ ğŸ“„ pages/                        # PÃ¡ginas principales
    â”‚   â”‚   â”œâ”€â”€ ğŸ“Š DashboardContent.jsx      # Dashboard
    â”‚   â”‚   â”œâ”€â”€ ğŸ“· Cameras.jsx               # GestiÃ³n cÃ¡maras
    â”‚   â”‚   â”œâ”€â”€ ğŸ” CameraDetail.jsx          # Detalle cÃ¡mara
    â”‚   â”‚   â”œâ”€â”€ ğŸ“‹ Incidents.jsx             # Lista incidentes
    â”‚   â”‚   â””â”€â”€ ğŸ“ IncidentDetail.jsx        # Detalle incidente
    â”‚   â”œâ”€â”€ ğŸ› ï¸ utils/                        # Utilidades
    â”‚   â”‚   â”œâ”€â”€ ğŸŒ api.js                    # Cliente API
    â”‚   â”‚   â””â”€â”€ ğŸ“º webrtc.js                 # Cliente WebRTC
    â”‚   â””â”€â”€ âš›ï¸ App.jsx                       # Componente raÃ­z
    â”œâ”€â”€ ğŸ“¦ package.json                      # Dependencias Node.js
    â””â”€â”€ âš™ï¸ vite.config.js                   # ConfiguraciÃ³n Vite
```

---

## ğŸš€ GuÃ­a de InstalaciÃ³n

<div align="center">

### âš¡ *ConfiguraciÃ³n RÃ¡pida y Sencilla*

</div>

### ğŸ“‹ Prerrequisitos del Sistema

<table>
<tr>
<td align="center"><strong>ğŸ Python</strong><br/>3.11+</td>
<td align="center"><strong>ğŸŸ¢ Node.js</strong><br/>18+</td>
<td align="center"><strong>ğŸ˜ PostgreSQL</strong><br/>15+</td>
<td align="center"><strong>ğŸ¬ FFmpeg</strong><br/>Latest</td>
<td align="center"><strong>ğŸš€ CUDA</strong><br/>12.0+ (Opcional)</td>
</tr>
</table>

---

### ğŸ ConfiguraciÃ³n del Backend

<details>
<summary><strong>ğŸ”½ Clic aquÃ­ para ver los pasos detallados</strong></summary>

#### **1ï¸âƒ£ Clonar el Repositorio**
```bash
git clone https://github.com/Franz-Gonzales/school-violence-prevention-IA3.git
cd school-violence-prevention/violence-detection-backend
```

#### **2ï¸âƒ£ Crear Entorno Virtual**
```bash
# Crear entorno virtual
python -m venv venv

# Activar entorno (Windows)
venv\Scripts\activate

# Activar entorno (Linux/Mac)
source venv/bin/activate
```

#### **3ï¸âƒ£ Instalar Dependencias**
```bash
# Actualizar pip
python -m pip install --upgrade pip

# Instalar dependencias
pip install -r requirements.txt
```

#### **4ï¸âƒ£ Configurar Base de Datos**
```sql
-- Crear base de datos en PostgreSQL
psql -U postgres
CREATE DATABASE deteccion_violencia;
\q
```

```bash
# Ejecutar script de configuraciÃ³n
python scripts/setup_db.py
```

#### **5ï¸âƒ£ Configurar Variables de Entorno**
```bash
# Copiar archivo de ejemplo
cp .env.example .env

# Editar .env con tus configuraciones personalizadas
```

#### **6ï¸âƒ£ Configurar Modelos de IA**
```bash
# Crear estructura de directorios
mkdir -p models_weights

# Ejecutar script de inicializaciÃ³n
python scripts/init_models.py
```

#### **7ï¸âƒ£ Ejecutar el Backend**
```bash
# Modo desarrollo (con recarga automÃ¡tica)
uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload

# Modo producciÃ³n
uvicorn app.main:app --host 0.0.0.0 --port 8000 --workers 4
```

</details>

---

### âš›ï¸ ConfiguraciÃ³n del Frontend

<details>
<summary><strong>ğŸ”½ Clic aquÃ­ para ver los pasos detallados</strong></summary>

#### **1ï¸âƒ£ Navegar al Directorio**
```bash
cd ../app-violence-prevention
```

#### **2ï¸âƒ£ Instalar Dependencias**
```bash
# Con npm
npm install

# O con yarn (si prefieres)
yarn install
```

#### **3ï¸âƒ£ Configurar Variables de Entorno**
```bash
# Crear archivo .env
echo "VITE_API_URL=http://localhost:8000" > .env
```

#### **4ï¸âƒ£ Ejecutar el Frontend**
```bash
# Modo desarrollo
npm run dev

# Construir para producciÃ³n
npm run build
```

</details>

---

### ğŸ”§ ConfiguraciÃ³n Adicional

<details>
<summary><strong>ğŸ”½ Configuraciones Opcionales</strong></summary>

#### **ğŸ“¢ Alarma Tuya WiFi (Opcional)**
```bash
# Instalar herramientas Tuya
pip install tinytuya

# Configurar dispositivo
python -m tinytuya wizard
```

#### **ğŸ“· Verificar CÃ¡mara USB**
```bash
# Verificar cÃ¡maras disponibles
python -c "import cv2; print([i for i in range(10) if cv2.VideoCapture(i).isOpened()])"
```

</details>

---

## ğŸ® GuÃ­a de Uso

<div align="center">

### ğŸ–¥ï¸ *Interfaz Intuitiva y Poderosa*

</div>

### ğŸ” **1. Acceso al Sistema**

<div align="center">

**ğŸŒ URL**: `http://localhost:3000`

| Campo | Valor |
|:-----:|:-----:|
| ğŸ“§ **Email** | `admin@ejemplo.com` |
| ğŸ”‘ **Password** | `admin123` |

</div>

### ğŸ“Š **2. Dashboard Principal**

<table>
<tr>
<td width="50%">
<h4>ğŸ“ˆ EstadÃ­sticas en Tiempo Real</h4>
<ul>
<li>ğŸ”¢ Incidentes detectados hoy</li>
<li>ğŸ“· CÃ¡maras activas en el sistema</li>
<li>âœ… Tasa de resoluciÃ³n de incidentes</li>
<li>ğŸ’š Estado operativo del sistema</li>
</ul>
</td>
<td width="50%">
<h4>ğŸš¨ Panel de Control</h4>
<ul>
<li>âš ï¸ Incidentes en curso</li>
<li>ğŸ”” Alertas prioritarias</li>
<li>ğŸ“‹ Incidentes recientes</li>
<li>âš™ï¸ ConfiguraciÃ³n rÃ¡pida</li>
</ul>
</td>
</tr>
</table>

### ğŸ“¹ **3. GestiÃ³n de CÃ¡maras**

- **ğŸ“‹ Lista Completa**: Ver todas las cÃ¡maras configuradas
- **ğŸ¥ Streaming Live**: VisualizaciÃ³n en tiempo real
- **ğŸ¤– Control IA**: Activar/desactivar anÃ¡lisis inteligente
- **âš™ï¸ ConfiguraciÃ³n**: Ajustar parÃ¡metros personalizados

### ğŸš¨ **4. Sistema de DetecciÃ³n AutomÃ¡tica**

1. **ğŸ“¹ Captura**: Video a 15 FPS desde cÃ¡maras
2. **ğŸ” DetecciÃ³n**: YOLOv11 identifica personas (>58% confianza)
3. **ğŸ§  AnÃ¡lisis**: TimesFormer analiza secuencias temporales
4. **âš¡ DecisiÃ³n**: Si probabilidad >70% â†’ Activar alerta
5. **ğŸš¨ Respuesta**: Acciones automÃ¡ticas inmediatas

---

## ğŸ§  Funcionamiento del Motor de IA

<div align="center">

### ğŸ”„ *Pipeline de Procesamiento Inteligente*

</div>

```mermaid
sequenceDiagram
    participant ğŸ“· as CÃ¡mara
    participant ğŸ¯ as YOLOv11
    participant ğŸ§  as TimesFormer
    participant ğŸš¨ as Sistema Alertas
    participant ğŸ’¾ as Base Datos
    
    ğŸ“·->>ğŸ¯: Frame de video (15 FPS)
    ğŸ¯->>ğŸ¯: Detectar personas (conf > 58%)
    ğŸ¯->>ğŸ§ : Enviar detecciones + frame
    ğŸ§ ->>ğŸ§ : Analizar secuencia temporal (8 frames)
    ğŸ§ ->>ğŸ§ : Calcular probabilidad violencia
    
    alt ğŸš¨ Violencia detectada (>70%)
        ğŸ§ ->>ğŸš¨: âš ï¸ ACTIVAR ALERTA CRÃTICA
        ğŸš¨->>ğŸš¨: ğŸ“¹ Iniciar grabaciÃ³n evidencia
        ğŸš¨->>ğŸš¨: ğŸ”Š Reproducir alerta sonora
        ğŸš¨->>ğŸš¨: ğŸ—£ï¸ Generar alerta de voz
        ğŸš¨->>ğŸ’¾: ğŸ’¾ Crear registro incidente
    else âœ… No violencia detectada
        ğŸ§ ->>ğŸ“·: âœ… Continuar monitoreo normal
    end
```

### âš™ï¸ **ParÃ¡metros de ConfiguraciÃ³n Optimizados**

<div align="center">

| Componente | ParÃ¡metro | Valor | DescripciÃ³n |
|:----------:|:----------|:-----:|:------------|
| ğŸ¯ **YOLOv11** | Confianza | `0.58` | Umbral mÃ­nimo detecciÃ³n |
| ğŸ¯ **YOLOv11** | ResoluciÃ³n | `416x416` | TamaÃ±o entrada optimizado |
| ğŸ§  **TimesFormer** | Frames | `8` | Secuencia anÃ¡lisis temporal |
| ğŸ§  **TimesFormer** | Umbral | `0.70` | Probabilidad activaciÃ³n |
| ğŸ“· **CÃ¡mara** | FPS | `15` | Velocidad captura |
| ğŸ¬ **Evidencia** | DuraciÃ³n | `10s` | Tiempo grabaciÃ³n |

</div>

---

## ğŸ“Š MÃ©tricas y Rendimiento

<div align="center">

### ğŸ¯ *Resultados del Modelo TimesFormer*

</div>

<table align="center">
<tr>
<th>MÃ©trica</th>
<th>Transfer Learning</th>
<th>Fine-Tuning</th>
<th>ğŸ† Test Final</th>
</tr>
<tr>
<td><strong>Accuracy</strong></td>
<td>89.45%</td>
<td>96.13%</td>
<td><strong>95.80%</strong></td>
</tr>
<tr>
<td><strong>Precision</strong></td>
<td>88.23%</td>
<td>96.01%</td>
<td><strong>95.45%</strong></td>
</tr>
<tr>
<td><strong>Recall</strong></td>
<td>90.12%</td>
<td>96.20%</td>
<td><strong>95.98%</strong></td>
</tr>
<tr>
<td><strong>F1-Score</strong></td>
<td>89.17%</td>
<td>96.10%</td>
<td><strong>95.71%</strong></td>
</tr>
<tr>
<td><strong>Specificity</strong></td>
<td>88.76%</td>
<td>99.33%</td>
<td><strong>99.12%</strong></td>
</tr>
<tr>
<td><strong>ROC AUC</strong></td>
<td>94.56%</td>
<td>98.83%</td>
<td><strong>98.64%</strong></td>
</tr>
</table>

### âš¡ **Rendimiento del Sistema**

<div align="center">

| CategorÃ­a | EspecificaciÃ³n | Rendimiento |
|:---------:|:---------------|:------------|
| ğŸ–¥ï¸ **Hardware MÃ­nimo** | Intel i5, 8GB RAM, SSD 256GB | âœ… Funcional |
| ğŸ”¥ **Hardware Recomendado** | Intel i7, 16GB RAM, SSD 512GB, GTX 1660 | âš¡ Ã“ptimo |
| ğŸš€ **Hardware Premium** | Intel i9, 32GB RAM, SSD 1TB, RTX 3070+ | ğŸ”¥ MÃ¡ximo |
| âš¡ **Latencia** | < 200ms para detecciÃ³n completa | ğŸ¯ Tiempo Real |
| ğŸ“º **FPS** | 15 FPS estables por cÃ¡mara | ğŸ¬ Fluido |
| ğŸ¯ **PrecisiÃ³n** | 96% accuracy en detecciÃ³n | ğŸ† Excelente |
| ğŸ“ˆ **Escalabilidad** | Hasta 8 cÃ¡maras simultÃ¡neas | ğŸ”„ Escalable |

</div>

---

## ğŸ”§ ConfiguraciÃ³n Avanzada

<details>
<summary><h3>ğŸ›ï¸ Variables de Entorno Completas</h3></summary>

```bash
# ==================== CONFIGURACIÃ“N PRINCIPAL ====================
APP_NAME="Software de DetecciÃ³n de Violencia Escolar"
APP_VERSION="1.0.0"
DEBUG=True
SECRET_KEY="tu_clave_secreta_super_segura_aqui"

# ==================== BASE DE DATOS ====================
DATABASE_URL="postgresql+asyncpg://usuario:password@localhost:5432/deteccion_violencia"
DB_ECHO=False
DB_POOL_SIZE=5

# ==================== MODELOS IA ====================
MODELOS_PATH="./models_weights"
YOLO_MODEL="yolo/exported_v3/best.pt"
TIMESFORMER_MODEL="timesformer/exported_models2/timesformer_violence_detector_half.onnx"
USE_GPU=True

# ==================== CONFIGURACIÃ“N CÃMARA ====================
CAMERA_INDEX=0
CAMERA_WIDTH=640
CAMERA_HEIGHT=480
CAMERA_FPS=15

# ==================== UMBRALES IA ====================
YOLO_CONF_THRESHOLD=0.58
VIOLENCE_THRESHOLD=0.60
TIMESFORMER_FRAMES=8

# ==================== ALARMA TUYA ====================
TUYA_DEVICE_ID="tu_device_id_aqui"
TUYA_IP_ADDRESS="192.168.1.100"
TUYA_LOCAL_KEY="tu_local_key_aqui"
TUYA_DEVICE_VERSION="3.5"

# ==================== ALERTAS DE VOZ ====================
ELEVENLABS_API_KEY="tu_api_key_elevenlabs"
ELEVENLABS_VOICE_ID="onwK4e9ZLuTAKqWW03F9"
VOICE_ALERTS_ENABLED=True
```

</details>

<details>
<summary><h3>ğŸ³ Despliegue con Docker</h3></summary>

#### **Dockerfile para Backend**
```dockerfile
FROM python:3.11-slim

WORKDIR /app

# Instalar dependencias del sistema
RUN apt-get update && apt-get install -y \
    libpq-dev \
    gcc \
    ffmpeg \
    && rm -rf /var/lib/apt/lists/*

# Copiar y instalar dependencias Python
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# Copiar cÃ³digo fuente
COPY . .

# Exponer puerto
EXPOSE 8000

# Comando de inicio
CMD ["uvicorn", "app.main:app", "--host", "0.0.0.0", "--port", "8000"]
```

#### **docker-compose.yml**
```yaml
version: '3.8'

services:
  postgres:
    image: postgres:15
    environment:
      POSTGRES_DB: deteccion_violencia
      POSTGRES_USER: usuario
      POSTGRES_PASSWORD: password
    volumes:
      - postgres_data:/var/lib/postgresql/data
    ports:
      - "5432:5432"

  backend:
    build: ./violence-detection-backend
    ports:
      - "8000:8000"
    depends_on:
      - postgres
    environment:
      - DATABASE_URL=postgresql+asyncpg://usuario:password@postgres:5432/deteccion_violencia
    volumes:
      - ./models_weights:/app/models_weights

  frontend:
    build: ./app-violence-prevention
    ports:
      - "3000:3000"
    depends_on:
      - backend

volumes:
  postgres_data:
```

</details>

---

## ğŸ› ï¸ Desarrollo y ContribuciÃ³n

<div align="center">

### ğŸ¤ *Contribuye al Futuro de la Seguridad Escolar*

</div>

### ğŸ§ª **Testing**

```bash
# ğŸ Tests del Backend
cd violence-detection-backend
python -m pytest tests/ -v --cov=app

# âš›ï¸ Tests del Frontend  
cd app-violence-prevention
npm test
```

### ğŸ“ **EstÃ¡ndares de CÃ³digo**

<table>
<tr>
<td width="50%">

**ğŸ Python (Backend)**
```bash
black .                 # ğŸ¨ Formateo cÃ³digo
flake8 .               # ğŸ” Linting
mypy .                 # ğŸ·ï¸ Type checking
```

</td>
<td width="50%">

**âš›ï¸ JavaScript (Frontend)**
```bash
npm run lint           # ğŸ” ESLint
npm run format         # ğŸ¨ Prettier
npm run type-check     # ğŸ·ï¸ Type checking
```

</td>
</tr>
</table>

### ğŸ”„ **Flujo de ContribuciÃ³n**

1. ğŸ´ **Fork** del repositorio
2. ğŸŒ¿ **Crear rama**: `git checkout -b feature/nueva-funcionalidad`  
3. ğŸ’» **Desarrollar** funcionalidad con tests
4. ğŸ“ **Commit**: `git commit -m 'feat: agregar nueva funcionalidad'`
5. ğŸš€ **Push**: `git push origin feature/nueva-funcionalidad`
6. ğŸ“‹ **Pull Request** con descripciÃ³n detallada

---

## ğŸ“š DocumentaciÃ³n y Recursos

<div align="center">

### ğŸ“– *Recursos de Aprendizaje Avanzado*

</div>

#### **ğŸ“„ Papers y Referencias AcadÃ©micas**
- ğŸ“š [TimesFormer: Is Space-Time Attention All You Need for Video Understanding?](https://arxiv.org/abs/2102.05095)
- ğŸ“š [YOLOv11: Real-Time Object Detection](https://github.com/ultralytics/ultralytics)
- ğŸ“š [DeepSORT: Simple Online and Realtime Tracking](https://arxiv.org/abs/1703.07402)

#### **ğŸ”— DocumentaciÃ³n TÃ©cnica**
- ğŸŒ [FastAPI Documentation](https://fastapi.tiangolo.com/)
- âš›ï¸ [React Documentation](https://reactjs.org/docs/)
- ğŸ˜ [PostgreSQL Documentation](https://www.postgresql.org/docs/)
- ğŸ¤— [Transformers Library](https://huggingface.co/docs/transformers/)

#### **ğŸ“ Conceptos Clave**

<div align="center">

```mermaid
mindmap
  root((ğŸ§  Computer Vision))
    ğŸ¯ DetecciÃ³n Objetos
      YOLO
      R-CNN  
      SSD
    ğŸ¬ AnÃ¡lisis Video
      TimesFormer
      Video Transformer
      3D CNN
    ğŸ‘¥ Tracking
      DeepSORT
      ByteTrack
      FairMOT
    ğŸ› ï¸ Procesamiento
      OpenCV
      FFmpeg
      PIL
```

</div>

---

## ğŸ› SoluciÃ³n de Problemas

<div align="center">

### ğŸ”§ *GuÃ­a de Troubleshooting*

</div>

<details>
<summary><h3>â“ Problemas Comunes y Soluciones</h3></summary>

#### **1ï¸âƒ£ Error: Modelo no encontrado**
```bash
# ğŸ”§ SoluciÃ³n
python scripts/init_models.py
# O descargar modelos manualmente a models_weights/
```

#### **2ï¸âƒ£ Error: GPU no disponible**
```bash
# ğŸ” Verificar CUDA
nvidia-smi

# âš™ï¸ Configurar para CPU
# En .env: USE_GPU=False
```

#### **3ï¸âƒ£ Error: CÃ¡mara no detectada**
```bash
# ğŸ” Verificar cÃ¡maras disponibles
python -c "import cv2; print([i for i in range(10) if cv2.VideoCapture(i).isOpened()])"

# âš™ï¸ Cambiar Ã­ndice en .env
# CAMERA_INDEX=1  # Probar diferentes Ã­ndices
```

#### **4ï¸âƒ£ Error: Base de datos**
```bash
# ğŸ” Verificar PostgreSQL
sudo systemctl status postgresql  # Linux
net start postgresql-x64-15       # Windows

# ğŸ”§ Recrear base de datos
python scripts/setup_db.py
```

#### **5ï¸âƒ£ Frontend no carga**
```bash
# ğŸ§¹ Limpiar cachÃ©
rm -rf node_modules package-lock.json
npm install

# ğŸ” Verificar puertos
netstat -tulpn | grep :3000
```

</details>

---

## ğŸ™ Agradecimientos

<div align="center">

### ğŸ’– *Reconocimientos Especiales*

</div>

<table>
<tr>
<td align="center" width="50%">

#### ğŸ‘¨â€ğŸ« **Agradecimientos AcadÃ©micos**
- ğŸ›ï¸ **Universidad**: San Francisco Xavier de Chuquisaca
- ğŸ‘¨â€ğŸ« **Docente**: Carlos Walter Pacheco Lora
- ğŸ“š **Programa**: IngenierÃ­a en Ciencias de la ComputaciÃ³n

</td>
<td align="center" width="50%">

#### ğŸ› ï¸ **TecnologÃ­as y Herramientas**
- ğŸ¤— **Hugging Face**: Por los modelos pre-entrenados
- ğŸ¯ **Ultralytics**: Por la implementaciÃ³n YOLOv11
- ğŸ§  **Facebook Research**: Por TimesFormer original
- ğŸš€ **FastAPI Team**: Por el framework excepcional
- âš›ï¸ **React Team**: Por la librerÃ­a UI moderna

</td>
</tr>
</table>

<div align="center">

#### ğŸ“Š **Comunidad Open Source**
*Gracias a toda la comunidad de desarrolladores que hacen posible la innovaciÃ³n*

</div>

---

## ğŸ“ Contacto y Soporte

<div align="center">

### ğŸ¤ *Conecta Conmigo*

</div>

<table align="center">
<tr>
<td align="center">
<img src="https://img.shields.io/badge/Desarrollador-Franz_Reinaldo_Gonzales_Suyo-blue?style=for-the-badge&logo=github&logoColor=white"/>
</td>
</tr>
<tr>
<td align="center">
<a href="mailto:gonzalesfranzreinaldo@gmail.com">
<img src="https://img.shields.io/badge/Email-gonzalesfranzreinaldo@gmail.com-red?style=for-the-badge&logo=gmail&logoColor=white"/>
</a>
</td>
</tr>
<tr>
<td align="center">
<img src="https://img.shields.io/badge/WhatsApp-+591_72863820-green?style=for-the-badge&logo=whatsapp&logoColor=white"/>
</td>
</tr>
<tr>
<td align="center">
<img src="https://img.shields.io/badge/Rol-Full_Stack_AI_Developer-purple?style=for-the-badge&logo=code&logoColor=white"/>
</td>
</tr>
</table>

### ğŸ†˜ **Canales de Soporte**

<div align="center">

[![Issues](https://img.shields.io/badge/ğŸ›_Issues-GitHub-orange?style=for-the-badge)](https://github.com/Franz-Gonzales/school-violence-prevention-IA3/issues)
[![Docs](https://img.shields.io/badge/ğŸ“–_DocumentaciÃ³n-Wiki-blue?style=for-the-badge)](https://github.com/Franz-Gonzales/school-violence-prevention-IA3/wiki)
[![Email](https://img.shields.io/badge/ğŸ“§_Contacto_Directo-Email-red?style=for-the-badge)](mailto:gonzalesfranzreinaldo@gmail.com)

</div>

---

<div align="center">

## ğŸ”— Recursos del Proyecto

[![Dataset](https://img.shields.io/badge/ğŸ“Š_Dataset-Contactar_Autor-yellow?style=for-the-badge)](mailto:gonzalesfranzreinaldo@gmail.com)
[![Modelos](https://img.shields.io/badge/ğŸ§ _Modelos_IA-Disponibles-green?style=for-the-badge)](mailto:gonzalesfranzreinaldo@gmail.com)
[![Demo](https://img.shields.io/badge/ğŸ¥_Demo_Video-Ver_AquÃ­-red?style=for-the-badge)](#)

---

### ğŸ† *Proyecto Desarrollado con PasiÃ³n para la Seguridad Escolar*

**ğŸ“ Universidad San Francisco Xavier de Chuquisaca**  
**ğŸ‘¨â€ğŸ’» Desarrollado por Franz Reinaldo Gonzales Suyo**  
**ğŸ“… 2025 - Semestre 7**

---

![Visitors](https://visitor-badge.laobi.icu/badge?page_id=Franz-Gonzales.school-violence-prevention-IA3)
![GitHub last commit](https://img.shields.io/github/last-commit/Franz-Gonzales/school-violence-prevention-IA3)
![GitHub repo size](https://img.shields.io/github/repo-size/Franz-Gonzales/school-violence-prevention-IA3)

</div>

---

<div align="center">

*"La tecnologÃ­a al servicio de la educaciÃ³n segura"* ğŸ“âœ¨

**â­ Si este proyecto te resulta Ãºtil, Â¡no olvides darle una estrella! â­**

</div>